@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * VARIABLES CSS - COULEURS MONTPELLIER
 * ═══════════════════════════════════════════════════════════════════════════
 */
:root {
  /* Bleu Méditerranée */
  --color-primary: #0077B6;
  --color-primary-dark: #023E8A;
  --color-primary-light: #48CAE4;
  
  /* Terracotta */
  --color-secondary: #E07B39;
  --color-secondary-dark: #c66830;
  
  /* Accents */
  --color-accent: #48CAE4;
  --color-gold: #E6A23C;
  
  /* Neutres */
  --color-sand: #FAF8F0;
  --color-metal: #1F2937;
  --color-gray: #6B7280;
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * STYLES DE BASE
 * ═══════════════════════════════════════════════════════════════════════════
 */
@layer base {
  html {
    @apply scroll-smooth;
    /* Optimisation du rendu texte */
    text-rendering: optimizeSpeed;
  }

  body {
    @apply bg-white text-metal-800 antialiased font-sans;
    /* Améliore les performances de scroll */
    -webkit-overflow-scrolling: touch;
  }
  
  /* Optimisation des images pour éviter les layout shifts */
  img, video {
    content-visibility: auto;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-bold tracking-tight text-metal-800;
  }

  h1 { @apply text-4xl md:text-5xl lg:text-6xl; }
  h2 { @apply text-3xl md:text-4xl lg:text-5xl; }
  h3 { @apply text-2xl md:text-3xl; }
  h4 { @apply text-xl md:text-2xl; }

  /* Focus visible pour accessibilité */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * COMPOSANTS RÉUTILISABLES
 * ═══════════════════════════════════════════════════════════════════════════
 */
@layer components {
  .container {
    @apply mx-auto px-4 sm:px-6 lg:px-8;
    max-width: 1280px;
  }

  /* Bouton principal - Bleu Méditerranée */
  .btn-primary {
    @apply inline-flex items-center justify-center 
           rounded-xl bg-primary-500 px-6 py-3.5 
           text-base font-semibold text-white 
           shadow-primary
           hover:bg-primary-600 hover:shadow-lg
           transition-all duration-300 ease-out
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  /* Bouton secondaire - Contour */
  .btn-secondary {
    @apply inline-flex items-center justify-center 
           rounded-xl border-2 border-primary-500 
           px-6 py-3 text-base font-semibold 
           text-primary-600 bg-white
           hover:bg-primary-50 hover:border-primary-600
           transition-all duration-300 ease-out;
  }

  /* Bouton téléphone urgence - Terracotta */
  .btn-phone {
    @apply inline-flex items-center justify-center gap-2
           rounded-xl bg-secondary-500 px-6 py-3.5 
           text-base font-bold text-white 
           shadow-secondary
           hover:bg-secondary-600 hover:shadow-lg hover:scale-[1.02]
           transition-all duration-300 ease-out
           animate-pulse-slow hover:animate-none;
  }

  /* Bouton téléphone header - Style compact */
  .btn-phone-header {
    @apply inline-flex items-center justify-center gap-2
           rounded-lg bg-secondary-500 px-4 py-2.5 
           text-sm font-bold text-white 
           shadow-sm
           hover:bg-secondary-600 hover:shadow-md
           transition-all duration-200;
  }

  /* Card moderne */
  .card {
    @apply bg-white rounded-2xl p-6 
           shadow-card border border-gray-100
           hover:shadow-card-hover 
           transition-all duration-300 ease-out;
  }

  /* Card avec effet hover lift */
  .card-hover {
    @apply card hover:-translate-y-1;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center px-3 py-1.5 
           rounded-full text-sm font-medium;
  }

  .badge-primary {
    @apply badge bg-primary-100 text-primary-700;
  }

  .badge-secondary {
    @apply badge bg-secondary-100 text-secondary-700;
  }

  .badge-accent {
    @apply badge bg-accent-100 text-accent-700;
  }

  .badge-success {
    @apply badge bg-green-100 text-green-700;
  }

  /* Trust badge avec icône */
  .trust-badge {
    @apply inline-flex items-center gap-2 px-4 py-2
           bg-white/90 backdrop-blur-sm rounded-full
           text-sm font-medium text-metal-700
           shadow-sm border border-gray-100;
  }

  /* Section */
  .section {
    @apply py-16 md:py-24 lg:py-32;
  }

  .section-sand {
    @apply section bg-sand-100;
  }

  .section-title {
    @apply text-3xl md:text-4xl lg:text-5xl font-bold text-metal-800 mb-4;
  }

  .section-subtitle {
    @apply text-lg md:text-xl text-gray-600 max-w-2xl;
  }

  /* Section header centré */
  .section-header {
    @apply text-center mb-12 md:mb-16;
  }

  /* Input moderne */
  .input {
    @apply w-full px-4 py-3 rounded-xl
           border border-gray-200 bg-white
           text-metal-800 placeholder-gray-400
           focus:border-primary-500 focus:ring-2 focus:ring-primary-100
           transition-all duration-200;
  }

  /* Textarea moderne */
  .textarea {
    @apply input resize-none min-h-[120px];
  }

  /* Label de formulaire */
  .label {
    @apply block text-sm font-medium text-metal-700 mb-2;
  }
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * UTILITAIRES PERSONNALISÉS
 * ═══════════════════════════════════════════════════════════════════════════
 */
@layer utilities {
  /* Gradient text */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-primary;
  }

  /* Background patterns */
  .bg-grid-pattern {
    background-image: 
      linear-gradient(rgba(0, 119, 182, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 119, 182, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  .bg-dots-pattern {
    background-image: radial-gradient(rgba(0, 119, 182, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  /* Overlay pour images */
  .overlay-primary {
    @apply relative;
  }
  
  .overlay-primary::after {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-primary-800/80 to-primary-500/60;
  }

  /* Placeholder image */
  .placeholder-image {
    @apply bg-gradient-to-br from-primary-100 to-accent-100 
           flex items-center justify-center
           text-primary-400;
  }
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * ANIMATIONS
 * ═══════════════════════════════════════════════════════════════════════════
 */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes pulse-ring {
  0% { 
    transform: scale(1);
    opacity: 1;
  }
  100% { 
    transform: scale(1.5);
    opacity: 0;
  }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-pulse-ring {
  animation: pulse-ring 1.5s ease-out infinite;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

/* Animations d'ouverture désactivées */
.animate-fade-in-up {
  opacity: 1;
  transform: translateY(0);
}

.animation-delay-100,
.animation-delay-150,
.animation-delay-200,
.animation-delay-300,
.animation-delay-400,
.animation-delay-500 {
  /* Délais désactivés */
}

/* Hide scrollbar for carousel */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * OPTIMISATIONS PERFORMANCE
 * ═══════════════════════════════════════════════════════════════════════════
 */

/* GPU acceleration pour éléments fixes */
header[class*="fixed"],
[class*="fixed"][class*="bottom"] {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Optimisation du rendu des sections */
section {
  contain: layout style;
}

/* Optimisation des cards et éléments interactifs */
.card, .card-hover,
[class*="hover:-translate"],
[class*="hover:scale"] {
  will-change: transform;
  transform: translateZ(0);
}

/* Réduire les repaints sur les éléments avec transitions */
[class*="transition-all"],
[class*="transition-transform"] {
  backface-visibility: hidden;
}

/* Optimisation touch pour mobile */
a, button {
  touch-action: manipulation;
}
